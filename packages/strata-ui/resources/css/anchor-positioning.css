/**
 * Global Intelligent Position Fallbacks for CSS Anchor Positioning
 *
 * Usage: Add data-placement="bottom-start" (or any placement) to any anchor-positioned element
 *
 * Applies to: Dropdown, Popover, Tooltip, Combobox, Select, and any future anchor-positioned components
 *
 * Each placement has a priority-ordered fallback sequence:
 * 1. Flip on primary axis (maintain alignment)
 * 2. Try adjacent placements (maintain axis when possible)
 * 3. Flip to perpendicular axis (last resort)
 */

@position-try --fallback-bottom-start-1 {
    inset: auto;
    margin-bottom: 8px;
    bottom: anchor(top);
    left: anchor(left);
}

@position-try --fallback-bottom-start-2 {
    inset: auto;
    margin-left: 4px;
    left: anchor(right);
    top: anchor(top);
}

@position-try --fallback-bottom-start-3 {
    inset: auto;
    margin-right: 4px;
    right: anchor(left);
    top: anchor(top);
}

@position-try --fallback-bottom-end-1 {
    inset: auto;
    margin-bottom: 8px;
    bottom: anchor(top);
    right: anchor(right);
}

@position-try --fallback-bottom-end-2 {
    inset: auto;
    margin-right: 4px;
    right: anchor(left);
    top: anchor(top);
}

@position-try --fallback-bottom-end-3 {
    inset: auto;
    margin-left: 4px;
    left: anchor(right);
    top: anchor(top);
}

@position-try --fallback-bottom-1 {
    inset: auto;
    margin-bottom: 8px;
    bottom: anchor(top);
    left: anchor(left);
}

@position-try --fallback-bottom-2 {
    inset: auto;
    margin-left: 4px;
    left: anchor(right);
    top: anchor(top);
}

@position-try --fallback-bottom-3 {
    inset: auto;
    margin-right: 4px;
    right: anchor(left);
    top: anchor(top);
}

@position-try --fallback-top-start-1 {
    inset: auto;
    margin-top: 8px;
    top: anchor(bottom);
    left: anchor(left);
}

@position-try --fallback-top-start-2 {
    inset: auto;
    margin-left: 4px;
    left: anchor(right);
    top: anchor(top);
}

@position-try --fallback-top-start-3 {
    inset: auto;
    margin-right: 4px;
    right: anchor(left);
    top: anchor(top);
}

@position-try --fallback-top-end-1 {
    inset: auto;
    margin-top: 8px;
    top: anchor(bottom);
    right: anchor(right);
}

@position-try --fallback-top-end-2 {
    inset: auto;
    margin-right: 4px;
    right: anchor(left);
    top: anchor(top);
}

@position-try --fallback-top-end-3 {
    inset: auto;
    margin-left: 4px;
    left: anchor(right);
    top: anchor(top);
}

@position-try --fallback-top-1 {
    inset: auto;
    margin-top: 8px;
    top: anchor(bottom);
    left: anchor(left);
}

@position-try --fallback-top-2 {
    inset: auto;
    margin-left: 4px;
    left: anchor(right);
    top: anchor(top);
}

@position-try --fallback-top-3 {
    inset: auto;
    margin-right: 4px;
    right: anchor(left);
    top: anchor(top);
}

@position-try --fallback-right-start-1 {
    inset: auto;
    margin-right: 4px;
    right: anchor(left);
    top: anchor(top);
}

@position-try --fallback-right-start-2 {
    inset: auto;
    margin-top: 8px;
    top: anchor(bottom);
    left: anchor(left);
}

@position-try --fallback-right-start-3 {
    inset: auto;
    margin-bottom: 8px;
    bottom: anchor(top);
    left: anchor(left);
}

@position-try --fallback-right-end-1 {
    inset: auto;
    margin-right: 4px;
    right: anchor(left);
    bottom: anchor(bottom);
}

@position-try --fallback-right-end-2 {
    inset: auto;
    margin-bottom: 8px;
    bottom: anchor(top);
    left: anchor(left);
}

@position-try --fallback-right-end-3 {
    inset: auto;
    margin-top: 8px;
    top: anchor(bottom);
    left: anchor(left);
}

@position-try --fallback-right-1 {
    inset: auto;
    margin-right: 4px;
    right: anchor(left);
    top: anchor(top);
}

@position-try --fallback-right-2 {
    inset: auto;
    margin-top: 8px;
    top: anchor(bottom);
    left: anchor(left);
}

@position-try --fallback-right-3 {
    inset: auto;
    margin-bottom: 8px;
    bottom: anchor(top);
    left: anchor(left);
}

@position-try --fallback-left-start-1 {
    inset: auto;
    margin-left: 4px;
    left: anchor(right);
    top: anchor(top);
}

@position-try --fallback-left-start-2 {
    inset: auto;
    margin-top: 8px;
    top: anchor(bottom);
    right: anchor(right);
}

@position-try --fallback-left-start-3 {
    inset: auto;
    margin-bottom: 8px;
    bottom: anchor(top);
    right: anchor(right);
}

@position-try --fallback-left-end-1 {
    inset: auto;
    margin-left: 4px;
    left: anchor(right);
    bottom: anchor(bottom);
}

@position-try --fallback-left-end-2 {
    inset: auto;
    margin-bottom: 8px;
    bottom: anchor(top);
    right: anchor(right);
}

@position-try --fallback-left-end-3 {
    inset: auto;
    margin-top: 8px;
    top: anchor(bottom);
    right: anchor(right);
}

@position-try --fallback-left-1 {
    inset: auto;
    margin-left: 4px;
    left: anchor(right);
    top: anchor(top);
}

@position-try --fallback-left-2 {
    inset: auto;
    margin-top: 8px;
    top: anchor(bottom);
    right: anchor(right);
}

@position-try --fallback-left-3 {
    inset: auto;
    margin-bottom: 8px;
    bottom: anchor(top);
    right: anchor(right);
}

[data-placement="bottom-start"] {
    position-try-fallbacks:
        --fallback-bottom-start-1,
        --fallback-bottom-start-2,
        --fallback-bottom-start-3;
}

[data-placement="bottom-end"] {
    position-try-fallbacks:
        --fallback-bottom-end-1,
        --fallback-bottom-end-2,
        --fallback-bottom-end-3;
}

[data-placement="bottom"] {
    position-try-fallbacks:
        --fallback-bottom-1,
        --fallback-bottom-2,
        --fallback-bottom-3;
}

[data-placement="top-start"] {
    position-try-fallbacks:
        --fallback-top-start-1,
        --fallback-top-start-2,
        --fallback-top-start-3;
}

[data-placement="top-end"] {
    position-try-fallbacks:
        --fallback-top-end-1,
        --fallback-top-end-2,
        --fallback-top-end-3;
}

[data-placement="top"] {
    position-try-fallbacks:
        --fallback-top-1,
        --fallback-top-2,
        --fallback-top-3;
}

[data-placement="right-start"] {
    position-try-fallbacks:
        --fallback-right-start-1,
        --fallback-right-start-2,
        --fallback-right-start-3;
}

[data-placement="right-end"] {
    position-try-fallbacks:
        --fallback-right-end-1,
        --fallback-right-end-2,
        --fallback-right-end-3;
}

[data-placement="right"] {
    position-try-fallbacks:
        --fallback-right-1,
        --fallback-right-2,
        --fallback-right-3;
}

[data-placement="left-start"] {
    position-try-fallbacks:
        --fallback-left-start-1,
        --fallback-left-start-2,
        --fallback-left-start-3;
}

[data-placement="left-end"] {
    position-try-fallbacks:
        --fallback-left-end-1,
        --fallback-left-end-2,
        --fallback-left-end-3;
}

[data-placement="left"] {
    position-try-fallbacks:
        --fallback-left-1,
        --fallback-left-2,
        --fallback-left-3;
}
