class Yt{constructor(t=null){this.value=t,this.watchers=[],this.component=null,this.wireModelProperty=null,this.alpineModelProperty=null}watch(t){return this.watchers.push(t),this}set(t){const i=this.value;this.value=t,JSON.stringify(i)!==JSON.stringify(t)&&(this.notifyWatchers(t,i),this.syncToLivewire())}get(){return this.value}notifyWatchers(t,i){this.watchers.forEach(n=>n(t,i))}syncToLivewire(){this.component?.$wire&&this.wireModelProperty&&this.component.$wire.set(this.wireModelProperty,this.value)}syncFromLivewire(){if(this.component?.$wire&&this.wireModelProperty){const t=this.component.$wire.get(this.wireModelProperty);t!==void 0&&(this.value=t,this.notifyWatchers(this.value,null))}}setupLivewire(t,i){if(!i)return;const n=Array.from(i.getAttributeNames()).find(s=>s.startsWith("wire:model"));n&&(this.component=t,t.$wire&&(this.wireModelProperty=i.getAttribute(n),this.syncFromLivewire(),t.$wire.$watch(this.wireModelProperty,s=>{if(JSON.stringify(this.value)!==JSON.stringify(s)){const o=this.value;this.value=s,this.notifyWatchers(s,o)}})))}setupAlpine(t,i){this.component=t,this.alpineModelProperty=i,i&&t[i]!==void 0&&(this.value=t[i]),this.watch(n=>{i&&t[i]!==n&&(t[i]=n)})}destroy(){this.watchers=[],this.component=null,this.wireModelProperty=null,this.alpineModelProperty=null,this.value=null}}const Dt=["top","right","bottom","left"],St=["start","end"],At=Dt.reduce((e,t)=>e.concat(t,t+"-"+St[0],t+"-"+St[1]),[]),B=Math.min,L=Math.max,ot=Math.round,st=Math.floor,j=e=>({x:e,y:e}),Zt={left:"right",right:"left",bottom:"top",top:"bottom"},Ut={start:"end",end:"start"};function dt(e,t,i){return L(e,B(t,i))}function V(e,t){return typeof e=="function"?e(t):e}function D(e){return e.split("-")[0]}function N(e){return e.split("-")[1]}function pt(e){return e==="x"?"y":"x"}function mt(e){return e==="y"?"height":"width"}const Gt=new Set(["top","bottom"]);function H(e){return Gt.has(D(e))?"y":"x"}function wt(e){return pt(H(e))}function kt(e,t,i){i===void 0&&(i=!1);const n=N(e),s=wt(e),o=mt(s);let r=s==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=lt(r)),[r,lt(r)]}function Jt(e){const t=lt(e);return[rt(e),t,rt(t)]}function rt(e){return e.replace(/start|end/g,t=>Ut[t])}const Et=["left","right"],Ot=["right","left"],Kt=["top","bottom"],Qt=["bottom","top"];function te(e,t,i){switch(e){case"top":case"bottom":return i?t?Ot:Et:t?Et:Ot;case"left":case"right":return t?Kt:Qt;default:return[]}}function ee(e,t,i,n){const s=N(e);let o=te(D(e),i==="start",n);return s&&(o=o.map(r=>r+"-"+s),t&&(o=o.concat(o.map(rt)))),o}function lt(e){return e.replace(/left|right|bottom|top/g,t=>Zt[t])}function ie(e){return{top:0,right:0,bottom:0,left:0,...e}}function yt(e){return typeof e!="number"?ie(e):{top:e,right:e,bottom:e,left:e}}function J(e){const{x:t,y:i,width:n,height:s}=e;return{width:n,height:s,top:i,left:t,right:t+n,bottom:i+s,x:t,y:i}}function Rt(e,t,i){let{reference:n,floating:s}=e;const o=H(t),r=wt(t),l=mt(r),f=D(t),h=o==="y",u=n.x+n.width/2-s.width/2,a=n.y+n.height/2-s.height/2,d=n[l]/2-s[l]/2;let c;switch(f){case"top":c={x:u,y:n.y-s.height};break;case"bottom":c={x:u,y:n.y+n.height};break;case"right":c={x:n.x+n.width,y:a};break;case"left":c={x:n.x-s.width,y:a};break;default:c={x:n.x,y:n.y}}switch(N(t)){case"start":c[r]-=d*(i&&h?-1:1);break;case"end":c[r]+=d*(i&&h?-1:1);break}return c}const ne=async(e,t,i)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:r}=i,l=o.filter(Boolean),f=await(r.isRTL==null?void 0:r.isRTL(t));let h=await r.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:a}=Rt(h,n,f),d=n,c={},g=0;for(let p=0;p<l.length;p++){const{name:m,fn:w}=l[p],{x:y,y:x,data:S,reset:v}=await w({x:u,y:a,initialPlacement:n,placement:d,strategy:s,middlewareData:c,rects:h,platform:r,elements:{reference:e,floating:t}});u=y??u,a=x??a,c={...c,[m]:{...c[m],...S}},v&&g<=50&&(g++,typeof v=="object"&&(v.placement&&(d=v.placement),v.rects&&(h=v.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:s}):v.rects),{x:u,y:a}=Rt(h,d,f)),p=-1)}return{x:u,y:a,placement:d,strategy:s,middlewareData:c}};async function K(e,t){var i;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:r,elements:l,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:u="viewport",elementContext:a="floating",altBoundary:d=!1,padding:c=0}=V(t,e),g=yt(c),m=l[d?a==="floating"?"reference":"floating":a],w=J(await o.getClippingRect({element:(i=await(o.isElement==null?void 0:o.isElement(m)))==null||i?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:h,rootBoundary:u,strategy:f})),y=a==="floating"?{x:n,y:s,width:r.floating.width,height:r.floating.height}:r.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},v=J(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:f}):y);return{top:(w.top-v.top+g.top)/S.y,bottom:(v.bottom-w.bottom+g.bottom)/S.y,left:(w.left-v.left+g.left)/S.x,right:(v.right-w.right+g.right)/S.x}}const se=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:n,placement:s,rects:o,platform:r,elements:l,middlewareData:f}=t,{element:h,padding:u=0}=V(e,t)||{};if(h==null)return{};const a=yt(u),d={x:i,y:n},c=wt(s),g=mt(c),p=await r.getDimensions(h),m=c==="y",w=m?"top":"left",y=m?"bottom":"right",x=m?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[c]-d[c]-o.floating[g],v=d[c]-o.reference[c],E=await(r.getOffsetParent==null?void 0:r.getOffsetParent(h));let A=E?E[x]:0;(!A||!await(r.isElement==null?void 0:r.isElement(E)))&&(A=l.floating[x]||o.floating[g]);const k=S/2-v/2,C=A/2-p[g]/2-1,b=B(a[w],C),O=B(a[y],C),T=b,M=A-p[g]-O,R=A/2-p[g]/2+k,W=dt(T,R,M),F=!f.arrow&&N(s)!=null&&R!==W&&o.reference[g]/2-(R<T?b:O)-p[g]/2<0,P=F?R<T?R-T:R-M:0;return{[c]:d[c]+P,data:{[c]:W,centerOffset:R-W-P,...F&&{alignmentOffset:P}},reset:F}}});function oe(e,t,i){return(e?[...i.filter(s=>N(s)===e),...i.filter(s=>N(s)!==e)]:i.filter(s=>D(s)===s)).filter(s=>e?N(s)===e||(t?rt(s)!==s:!1):!0)}const re=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var i,n,s;const{rects:o,middlewareData:r,placement:l,platform:f,elements:h}=t,{crossAxis:u=!1,alignment:a,allowedPlacements:d=At,autoAlignment:c=!0,...g}=V(e,t),p=a!==void 0||d===At?oe(a||null,c,d):d,m=await K(t,g),w=((i=r.autoPlacement)==null?void 0:i.index)||0,y=p[w];if(y==null)return{};const x=kt(y,o,await(f.isRTL==null?void 0:f.isRTL(h.floating)));if(l!==y)return{reset:{placement:p[0]}};const S=[m[D(y)],m[x[0]],m[x[1]]],v=[...((n=r.autoPlacement)==null?void 0:n.overflows)||[],{placement:y,overflows:S}],E=p[w+1];if(E)return{data:{index:w+1,overflows:v},reset:{placement:E}};const A=v.map(b=>{const O=N(b.placement);return[b.placement,O&&u?b.overflows.slice(0,2).reduce((T,M)=>T+M,0):b.overflows[0],b.overflows]}).sort((b,O)=>b[1]-O[1]),C=((s=A.filter(b=>b[2].slice(0,N(b[0])?2:3).every(O=>O<=0))[0])==null?void 0:s[0])||A[0][0];return C!==l?{data:{index:w+1,overflows:v},reset:{placement:C}}:{}}}},le=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i,n;const{placement:s,middlewareData:o,rects:r,initialPlacement:l,platform:f,elements:h}=t,{mainAxis:u=!0,crossAxis:a=!0,fallbackPlacements:d,fallbackStrategy:c="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...m}=V(e,t);if((i=o.arrow)!=null&&i.alignmentOffset)return{};const w=D(s),y=H(l),x=D(l)===l,S=await(f.isRTL==null?void 0:f.isRTL(h.floating)),v=d||(x||!p?[lt(l)]:Jt(l)),E=g!=="none";!d&&E&&v.push(...ee(l,p,g,S));const A=[l,...v],k=await K(t,m),C=[];let b=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&C.push(k[w]),a){const R=kt(s,r,S);C.push(k[R[0]],k[R[1]])}if(b=[...b,{placement:s,overflows:C}],!C.every(R=>R<=0)){var O,T;const R=(((O=o.flip)==null?void 0:O.index)||0)+1,W=A[R];if(W&&(!(a==="alignment"?y!==H(W):!1)||b.every(I=>H(I.placement)===y?I.overflows[0]>0:!0)))return{data:{index:R,overflows:b},reset:{placement:W}};let F=(T=b.filter(P=>P.overflows[0]<=0).sort((P,I)=>P.overflows[1]-I.overflows[1])[0])==null?void 0:T.placement;if(!F)switch(c){case"bestFit":{var M;const P=(M=b.filter(I=>{if(E){const Y=H(I.placement);return Y===y||Y==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(Y=>Y>0).reduce((Y,_t)=>Y+_t,0)]).sort((I,Y)=>I[1]-Y[1])[0])==null?void 0:M[0];P&&(F=P);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function Lt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ct(e){return Dt.some(t=>e[t]>=0)}const ae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:i}=t,{strategy:n="referenceHidden",...s}=V(e,t);switch(n){case"referenceHidden":{const o=await K(t,{...s,elementContext:"reference"}),r=Lt(o,i.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:Ct(r)}}}case"escaped":{const o=await K(t,{...s,altBoundary:!0}),r=Lt(o,i.floating);return{data:{escapedOffsets:r,escaped:Ct(r)}}}default:return{}}}}};function Ft(e){const t=B(...e.map(o=>o.left)),i=B(...e.map(o=>o.top)),n=L(...e.map(o=>o.right)),s=L(...e.map(o=>o.bottom));return{x:t,y:i,width:n-t,height:s-i}}function ce(e){const t=e.slice().sort((s,o)=>s.y-o.y),i=[];let n=null;for(let s=0;s<t.length;s++){const o=t[s];!n||o.y-n.y>n.height/2?i.push([o]):i[i.length-1].push(o),n=o}return i.map(s=>J(Ft(s)))}const fe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:i,elements:n,rects:s,platform:o,strategy:r}=t,{padding:l=2,x:f,y:h}=V(e,t),u=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(n.reference))||[]),a=ce(u),d=J(Ft(u)),c=yt(l);function g(){if(a.length===2&&a[0].left>a[1].right&&f!=null&&h!=null)return a.find(m=>f>m.left-c.left&&f<m.right+c.right&&h>m.top-c.top&&h<m.bottom+c.bottom)||d;if(a.length>=2){if(H(i)==="y"){const b=a[0],O=a[a.length-1],T=D(i)==="top",M=b.top,R=O.bottom,W=T?b.left:O.left,F=T?b.right:O.right,P=F-W,I=R-M;return{top:M,bottom:R,left:W,right:F,width:P,height:I,x:W,y:M}}const m=D(i)==="left",w=L(...a.map(b=>b.right)),y=B(...a.map(b=>b.left)),x=a.filter(b=>m?b.left===y:b.right===w),S=x[0].top,v=x[x.length-1].bottom,E=y,A=w,k=A-E,C=v-S;return{top:S,bottom:v,left:E,right:A,width:k,height:C,x:E,y:S}}return d}const p=await o.getElementRects({reference:{getBoundingClientRect:g},floating:n.floating,strategy:r});return s.reference.x!==p.reference.x||s.reference.y!==p.reference.y||s.reference.width!==p.reference.width||s.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}},Wt=new Set(["left","top"]);async function he(e,t){const{placement:i,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),r=D(i),l=N(i),f=H(i)==="y",h=Wt.has(r)?-1:1,u=o&&f?-1:1,a=V(t,e);let{mainAxis:d,crossAxis:c,alignmentAxis:g}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:a.mainAxis||0,crossAxis:a.crossAxis||0,alignmentAxis:a.alignmentAxis};return l&&typeof g=="number"&&(c=l==="end"?g*-1:g),f?{x:c*u,y:d*h}:{x:d*h,y:c*u}}const ue=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var i,n;const{x:s,y:o,placement:r,middlewareData:l}=t,f=await he(t,e);return r===((i=l.offset)==null?void 0:i.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:r}}}}},de=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:r=!1,limiter:l={fn:m=>{let{x:w,y}=m;return{x:w,y}}},...f}=V(e,t),h={x:i,y:n},u=await K(t,f),a=H(D(s)),d=pt(a);let c=h[d],g=h[a];if(o){const m=d==="y"?"top":"left",w=d==="y"?"bottom":"right",y=c+u[m],x=c-u[w];c=dt(y,c,x)}if(r){const m=a==="y"?"top":"left",w=a==="y"?"bottom":"right",y=g+u[m],x=g-u[w];g=dt(y,g,x)}const p=l.fn({...t,[d]:c,[a]:g});return{...p,data:{x:p.x-i,y:p.y-n,enabled:{[d]:o,[a]:r}}}}}},ge=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:i,y:n,placement:s,rects:o,middlewareData:r}=t,{offset:l=0,mainAxis:f=!0,crossAxis:h=!0}=V(e,t),u={x:i,y:n},a=H(s),d=pt(a);let c=u[d],g=u[a];const p=V(l,t),m=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(f){const x=d==="y"?"height":"width",S=o.reference[d]-o.floating[x]+m.mainAxis,v=o.reference[d]+o.reference[x]-m.mainAxis;c<S?c=S:c>v&&(c=v)}if(h){var w,y;const x=d==="y"?"width":"height",S=Wt.has(D(s)),v=o.reference[a]-o.floating[x]+(S&&((w=r.offset)==null?void 0:w[a])||0)+(S?0:m.crossAxis),E=o.reference[a]+o.reference[x]+(S?0:((y=r.offset)==null?void 0:y[a])||0)-(S?m.crossAxis:0);g<v?g=v:g>E&&(g=E)}return{[d]:c,[a]:g}}}},pe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var i,n;const{placement:s,rects:o,platform:r,elements:l}=t,{apply:f=()=>{},...h}=V(e,t),u=await K(t,h),a=D(s),d=N(s),c=H(s)==="y",{width:g,height:p}=o.floating;let m,w;a==="top"||a==="bottom"?(m=a,w=d===(await(r.isRTL==null?void 0:r.isRTL(l.floating))?"start":"end")?"left":"right"):(w=a,m=d==="end"?"top":"bottom");const y=p-u.top-u.bottom,x=g-u.left-u.right,S=B(p-u[m],y),v=B(g-u[w],x),E=!t.middlewareData.shift;let A=S,k=v;if((i=t.middlewareData.shift)!=null&&i.enabled.x&&(k=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(A=y),E&&!d){const b=L(u.left,0),O=L(u.right,0),T=L(u.top,0),M=L(u.bottom,0);c?k=g-2*(b!==0||O!==0?b+O:L(u.left,u.right)):A=p-2*(T!==0||M!==0?T+M:L(u.top,u.bottom))}await f({...t,availableWidth:k,availableHeight:A});const C=await r.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function at(){return typeof window<"u"}function tt(e){return Ht(e)?(e.nodeName||"").toLowerCase():"#document"}function $(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _(e){var t;return(t=(Ht(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ht(e){return at()?e instanceof Node||e instanceof $(e).Node:!1}function z(e){return at()?e instanceof Element||e instanceof $(e).Element:!1}function q(e){return at()?e instanceof HTMLElement||e instanceof $(e).HTMLElement:!1}function Tt(e){return!at()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $(e).ShadowRoot}const me=new Set(["inline","contents"]);function nt(e){const{overflow:t,overflowX:i,overflowY:n,display:s}=X(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!me.has(s)}const we=new Set(["table","td","th"]);function ye(e){return we.has(tt(e))}const xe=[":popover-open",":modal"];function ct(e){return xe.some(t=>{try{return e.matches(t)}catch{return!1}})}const ve=["transform","translate","scale","rotate","perspective"],be=["transform","translate","scale","rotate","perspective","filter"],Se=["paint","layout","strict","content"];function xt(e){const t=vt(),i=z(e)?X(e):e;return ve.some(n=>i[n]?i[n]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||be.some(n=>(i.willChange||"").includes(n))||Se.some(n=>(i.contain||"").includes(n))}function Ae(e){let t=Z(e);for(;q(t)&&!Q(t);){if(xt(t))return t;if(ct(t))return null;t=Z(t)}return null}function vt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ee=new Set(["html","body","#document"]);function Q(e){return Ee.has(tt(e))}function X(e){return $(e).getComputedStyle(e)}function ft(e){return z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Z(e){if(tt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tt(e)&&e.host||_(e);return Tt(t)?t.host:t}function Nt(e){const t=Z(e);return Q(t)?e.ownerDocument?e.ownerDocument.body:e.body:q(t)&&nt(t)?t:Nt(t)}function it(e,t,i){var n;t===void 0&&(t=[]),i===void 0&&(i=!0);const s=Nt(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),r=$(s);if(o){const l=gt(r);return t.concat(r,r.visualViewport||[],nt(s)?s:[],l&&i?it(l):[])}return t.concat(s,it(s,[],i))}function gt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Bt(e){const t=X(e);let i=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=q(e),o=s?e.offsetWidth:i,r=s?e.offsetHeight:n,l=ot(i)!==o||ot(n)!==r;return l&&(i=o,n=r),{width:i,height:n,$:l}}function bt(e){return z(e)?e:e.contextElement}function G(e){const t=bt(e);if(!q(t))return j(1);const i=t.getBoundingClientRect(),{width:n,height:s,$:o}=Bt(t);let r=(o?ot(i.width):i.width)/n,l=(o?ot(i.height):i.height)/s;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const Oe=j(0);function Vt(e){const t=$(e);return!vt()||!t.visualViewport?Oe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Re(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==$(e)?!1:t}function U(e,t,i,n){t===void 0&&(t=!1),i===void 0&&(i=!1);const s=e.getBoundingClientRect(),o=bt(e);let r=j(1);t&&(n?z(n)&&(r=G(n)):r=G(e));const l=Re(o,i,n)?Vt(o):j(0);let f=(s.left+l.x)/r.x,h=(s.top+l.y)/r.y,u=s.width/r.x,a=s.height/r.y;if(o){const d=$(o),c=n&&z(n)?$(n):n;let g=d,p=gt(g);for(;p&&n&&c!==g;){const m=G(p),w=p.getBoundingClientRect(),y=X(p),x=w.left+(p.clientLeft+parseFloat(y.paddingLeft))*m.x,S=w.top+(p.clientTop+parseFloat(y.paddingTop))*m.y;f*=m.x,h*=m.y,u*=m.x,a*=m.y,f+=x,h+=S,g=$(p),p=gt(g)}}return J({width:u,height:a,x:f,y:h})}function ht(e,t){const i=ft(e).scrollLeft;return t?t.left+i:U(_(e)).left+i}function zt(e,t){const i=e.getBoundingClientRect(),n=i.left+t.scrollLeft-ht(e,i),s=i.top+t.scrollTop;return{x:n,y:s}}function Le(e){let{elements:t,rect:i,offsetParent:n,strategy:s}=e;const o=s==="fixed",r=_(n),l=t?ct(t.floating):!1;if(n===r||l&&o)return i;let f={scrollLeft:0,scrollTop:0},h=j(1);const u=j(0),a=q(n);if((a||!a&&!o)&&((tt(n)!=="body"||nt(r))&&(f=ft(n)),q(n))){const c=U(n);h=G(n),u.x=c.x+n.clientLeft,u.y=c.y+n.clientTop}const d=r&&!a&&!o?zt(r,f):j(0);return{width:i.width*h.x,height:i.height*h.y,x:i.x*h.x-f.scrollLeft*h.x+u.x+d.x,y:i.y*h.y-f.scrollTop*h.y+u.y+d.y}}function Ce(e){return Array.from(e.getClientRects())}function Te(e){const t=_(e),i=ft(e),n=e.ownerDocument.body,s=L(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=L(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let r=-i.scrollLeft+ht(e);const l=-i.scrollTop;return X(n).direction==="rtl"&&(r+=L(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:r,y:l}}const Mt=25;function Me(e,t){const i=$(e),n=_(e),s=i.visualViewport;let o=n.clientWidth,r=n.clientHeight,l=0,f=0;if(s){o=s.width,r=s.height;const u=vt();(!u||u&&t==="fixed")&&(l=s.offsetLeft,f=s.offsetTop)}const h=ht(n);if(h<=0){const u=n.ownerDocument,a=u.body,d=getComputedStyle(a),c=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,g=Math.abs(n.clientWidth-a.clientWidth-c);g<=Mt&&(o-=g)}else h<=Mt&&(o+=h);return{width:o,height:r,x:l,y:f}}const Pe=new Set(["absolute","fixed"]);function Ie(e,t){const i=U(e,!0,t==="fixed"),n=i.top+e.clientTop,s=i.left+e.clientLeft,o=q(e)?G(e):j(1),r=e.clientWidth*o.x,l=e.clientHeight*o.y,f=s*o.x,h=n*o.y;return{width:r,height:l,x:f,y:h}}function Pt(e,t,i){let n;if(t==="viewport")n=Me(e,i);else if(t==="document")n=Te(_(e));else if(z(t))n=Ie(t,i);else{const s=Vt(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return J(n)}function Xt(e,t){const i=Z(e);return i===t||!z(i)||Q(i)?!1:X(i).position==="fixed"||Xt(i,t)}function $e(e,t){const i=t.get(e);if(i)return i;let n=it(e,[],!1).filter(l=>z(l)&&tt(l)!=="body"),s=null;const o=X(e).position==="fixed";let r=o?Z(e):e;for(;z(r)&&!Q(r);){const l=X(r),f=xt(r);!f&&l.position==="fixed"&&(s=null),(o?!f&&!s:!f&&l.position==="static"&&!!s&&Pe.has(s.position)||nt(r)&&!f&&Xt(e,r))?n=n.filter(u=>u!==r):s=l,r=Z(r)}return t.set(e,n),n}function De(e){let{element:t,boundary:i,rootBoundary:n,strategy:s}=e;const r=[...i==="clippingAncestors"?ct(t)?[]:$e(t,this._c):[].concat(i),n],l=r[0],f=r.reduce((h,u)=>{const a=Pt(t,u,s);return h.top=L(a.top,h.top),h.right=B(a.right,h.right),h.bottom=B(a.bottom,h.bottom),h.left=L(a.left,h.left),h},Pt(t,l,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function ke(e){const{width:t,height:i}=Bt(e);return{width:t,height:i}}function Fe(e,t,i){const n=q(t),s=_(t),o=i==="fixed",r=U(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const f=j(0);function h(){f.x=ht(s)}if(n||!n&&!o)if((tt(t)!=="body"||nt(s))&&(l=ft(t)),n){const c=U(t,!0,o,t);f.x=c.x+t.clientLeft,f.y=c.y+t.clientTop}else s&&h();o&&!n&&s&&h();const u=s&&!n&&!o?zt(s,l):j(0),a=r.left+l.scrollLeft-f.x-u.x,d=r.top+l.scrollTop-f.y-u.y;return{x:a,y:d,width:r.width,height:r.height}}function ut(e){return X(e).position==="static"}function It(e,t){if(!q(e)||X(e).position==="fixed")return null;if(t)return t(e);let i=e.offsetParent;return _(e)===i&&(i=i.ownerDocument.body),i}function jt(e,t){const i=$(e);if(ct(e))return i;if(!q(e)){let s=Z(e);for(;s&&!Q(s);){if(z(s)&&!ut(s))return s;s=Z(s)}return i}let n=It(e,t);for(;n&&ye(n)&&ut(n);)n=It(n,t);return n&&Q(n)&&ut(n)&&!xt(n)?i:n||Ae(e)||i}const We=async function(e){const t=this.getOffsetParent||jt,i=this.getDimensions,n=await i(e.floating);return{reference:Fe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function He(e){return X(e).direction==="rtl"}const Ne={convertOffsetParentRelativeRectToViewportRelativeRect:Le,getDocumentElement:_,getClippingRect:De,getOffsetParent:jt,getElementRects:We,getClientRects:Ce,getDimensions:ke,getScale:G,isElement:z,isRTL:He};function qt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Be(e,t){let i=null,n;const s=_(e);function o(){var l;clearTimeout(n),(l=i)==null||l.disconnect(),i=null}function r(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),o();const h=e.getBoundingClientRect(),{left:u,top:a,width:d,height:c}=h;if(l||t(),!d||!c)return;const g=st(a),p=st(s.clientWidth-(u+d)),m=st(s.clientHeight-(a+c)),w=st(u),x={rootMargin:-g+"px "+-p+"px "+-m+"px "+-w+"px",threshold:L(0,B(1,f))||1};let S=!0;function v(E){const A=E[0].intersectionRatio;if(A!==f){if(!S)return r();A?r(!1,A):n=setTimeout(()=>{r(!1,1e-7)},1e3)}A===1&&!qt(h,e.getBoundingClientRect())&&r(),S=!1}try{i=new IntersectionObserver(v,{...x,root:s.ownerDocument})}catch{i=new IntersectionObserver(v,x)}i.observe(e)}return r(!0),o}function Ve(e,t,i,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=bt(e),u=s||o?[...h?it(h):[],...it(t)]:[];u.forEach(w=>{s&&w.addEventListener("scroll",i,{passive:!0}),o&&w.addEventListener("resize",i)});const a=h&&l?Be(h,i):null;let d=-1,c=null;r&&(c=new ResizeObserver(w=>{let[y]=w;y&&y.target===h&&c&&(c.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=c)==null||x.observe(t)})),i()}),h&&!f&&c.observe(h),c.observe(t));let g,p=f?U(e):null;f&&m();function m(){const w=U(e);p&&!qt(p,w)&&i(),p=w,g=requestAnimationFrame(m)}return i(),()=>{var w;u.forEach(y=>{s&&y.removeEventListener("scroll",i),o&&y.removeEventListener("resize",i)}),a?.(),(w=c)==null||w.disconnect(),c=null,f&&cancelAnimationFrame(g)}}const ze=ue,Xe=re,je=de,qe=le,$t=pe,_e=ae,Ye=se,Ze=fe,Ue=ge,Ge=(e,t,i)=>{const n=new Map,s={platform:Ne,...i},o={...s.platform,_c:n};return ne(e,t,{...s,platform:o})};class et{static instances=new Set;constructor(t={}){this.config={placement:t.placement||"bottom-start",offset:t.offset??8,strategy:t.strategy||"absolute",padding:t.padding??5,boundary:t.boundary,enableSize:t.enableSize||!1,matchReferenceWidth:t.matchReferenceWidth||!1,maxHeight:t.maxHeight||!1,sizeApply:t.sizeApply||null,arrowElement:t.arrowElement||null,arrowPadding:t.arrowPadding??5,enableHide:t.enableHide||!1,hideStrategy:t.hideStrategy||"referenceHidden",useAutoPlacement:t.useAutoPlacement||!1,enableInline:t.enableInline||!1,inlineX:t.inlineX,inlineY:t.inlineY,limitShiftEnabled:t.limitShiftEnabled||!1,customMiddleware:t.customMiddleware||[],autoUpdateOptions:t.autoUpdateOptions||{ancestorScroll:!0,ancestorResize:!0,elementResize:!0,layoutShift:!0,animationFrame:!1}},this.cleanup=null,this.reference=null,this.floating=null,this.component=null,this.state=!1,this.styles={},this.wrapperElement=null,this.middlewareData={}}start(t,i,n){return this.component=t,this.reference=i,this.floating=n,this.wrapperElement=t.$el,et.instances.add(this),this.compute(),this.watch(s=>{s&&window.innerWidth>=640&&!this.cleanup&&this.component.$nextTick(()=>this.syncPosition()),!s&&this.cleanup&&(this.cleanup(),this.cleanup=null)}),this}watch(t){return queueMicrotask(()=>{this.component.$watch(()=>this.state,i=>t(i))}),this}syncPosition(){window.innerWidth<640||(this.cleanup=Ve(this.reference,this.floating,()=>this.compute(),this.config.autoUpdateOptions))}compute(){if(!this.reference||!this.floating)return;const t=[];t.push(ze(this.config.offset)),this.config.enableInline&&t.push(Ze({x:this.config.inlineX,y:this.config.inlineY,padding:2})),this.config.useAutoPlacement?t.push(Xe({padding:this.config.padding})):t.push(qe({padding:this.config.padding,boundary:this.config.boundary}));const i={padding:this.config.padding,boundary:this.config.boundary};this.config.limitShiftEnabled&&(i.limiter=Ue()),t.push(je(i)),this.config.enableSize&&(this.config.sizeApply?t.push($t({apply:this.config.sizeApply,padding:this.config.padding})):t.push($t({apply:({availableWidth:n,availableHeight:s,rects:o,elements:r})=>{const l={};this.config.maxHeight&&(l.maxHeight=`${Math.max(0,s-10)}px`,l.overflowY="auto"),this.config.matchReferenceWidth&&(l.minWidth=`${o.reference.width}px`),Object.assign(r.floating.style,l)},padding:this.config.padding}))),this.config.arrowElement&&t.push(Ye({element:this.config.arrowElement,padding:this.config.arrowPadding})),this.config.enableHide&&t.push(_e({strategy:this.config.hideStrategy})),t.push(...this.config.customMiddleware),Ge(this.reference,this.floating,{placement:this.config.placement,strategy:this.config.strategy,middleware:t}).then(({x:n,y:s,placement:o,middlewareData:r})=>{this.styles={position:this.config.strategy,left:`${n}px`,top:`${s}px`},this.middlewareData=r,r.arrow&&this.config.arrowElement&&this.applyArrowPosition(o,r.arrow),r.hide&&this.applyHideVisibility(r.hide)})}open(){this.closeConflictingInstances(),this.compute(),this.component.$nextTick(()=>{this.state=!0})}openIfClosed(){this.state||this.open()}close(){this.state=!1}toggle(){this.state?this.close():this.open()}closeConflictingInstances(){et.instances.forEach(t=>{if(t===this||!t.state)return;const i=t.wrapperElement?.contains(this.wrapperElement),n=this.wrapperElement?.contains(t.wrapperElement);!i&&!n&&t.close()})}applyArrowPosition(t,i){const{x:n,y:s,centerOffset:o}=i,r=this.config.arrowElement;if(!r)return;const l={top:"bottom",right:"left",bottom:"top",left:"right"}[t.split("-")[0]];Object.assign(r.style,{left:n!=null?`${n}px`:"",top:s!=null?`${s}px`:"",right:"",bottom:"",[l]:"-4px"})}applyHideVisibility(t){if(!this.floating)return;const i=t.referenceHidden||t.escaped;this.floating.style.visibility=i?"hidden":"visible"}destroy(){this.cleanup&&(this.cleanup(),this.cleanup=null),et.instances.delete(this)}}const Je=(e,t=null,i="image")=>({isLoading:!0,hasError:!1,currentSrc:e,fallbackIcon:i,showPlaceholder:!0,init(){this.currentSrc||this.handleError()},handleLoad(){this.isLoading=!1,this.hasError=!1,this.showPlaceholder=!1},handleError(){this.isLoading=!1,this.hasError=!0,this.showPlaceholder=!1,t&&this.currentSrc!==t&&(this.currentSrc=t,this.hasError=!1,this.isLoading=!0)},get shouldShowImage(){return this.currentSrc&&!this.hasError},get shouldShowFallback(){return this.hasError||!this.currentSrc},get shouldShowSkeleton(){return this.isLoading&&!this.hasError}});class Ke{constructor(t={}){this.config={mode:t.mode||"presentational",loop:t.loop||!1,autoplay:t.autoplay||!1,autoplayDelay:t.autoplayDelay||3e3,peek:t.peek||!1,...t},this.currentSlide=0,this.totalSlides=0,this.autoplayInterval=null,this.entangleable=null,this.component=null,this.container=null,this.isFormMode=this.config.mode==="form",this.navigating=!1,this.isPlaying=!1,this.touchStartX=0,this.touchEndX=0}init(t){this.component=t,t.isPlaying=!1,t.$nextTick(()=>{this.container=t.$refs.container,this.totalSlides=t.$el.querySelectorAll("[data-strata-slider-item]").length,t.totalSlides=this.totalSlides,this.isFormMode&&this.setupFormMode(),this.config.autoplay&&!this.prefersReducedMotion()&&this.startAutoplay(),this.updateCurrentSlide(),this.setupScrollListener(),this.setupKeyboardNavigation(),this.setupTouchHandlers()})}setupFormMode(){const t=this.component.$el.querySelector("[data-strata-slider-input]");t&&(this.entangleable=new window.StrataEntangleable(this.component.currentSlide),this.entangleable.setupLivewire(this.component,t),this.entangleable.watch(i=>{typeof i=="number"&&i!==this.component.currentSlide&&this.goTo(i)}),this.component.$watch("currentSlide",i=>{this.entangleable&&this.entangleable.set(i)}))}setupScrollListener(){if(!this.container)return;let t;this.container.addEventListener("scroll",()=>{clearTimeout(t),t=setTimeout(()=>{this.updateCurrentSlide()},150)})}setupKeyboardNavigation(){this.component.$el.addEventListener("keydown",t=>{if(this.component.$el.contains(document.activeElement))switch(t.key){case"ArrowRight":t.preventDefault(),this.next();break;case"ArrowLeft":t.preventDefault(),this.prev();break;case"Home":t.preventDefault(),this.goTo(0);break;case"End":t.preventDefault(),this.goTo(this.totalSlides-1);break}})}goTo(t,{smooth:i=!0,scrollToSlide:n=!0}={}){if(this.navigating||t<0||t>=this.totalSlides)return;this.navigating=!0;const o=this.component.$el.querySelectorAll("[data-strata-slider-item]")[t];if(o){if(n)o.scrollIntoView({behavior:i?"smooth":"auto",block:"nearest",inline:this.config.peek?"start":"center"});else{const r=this.container;if(r){const l=this.config.peek?o.offsetLeft:o.offsetLeft-r.clientWidth/2+o.clientWidth/2;r.scrollTo({left:l,behavior:i?"smooth":"auto"})}}this.component.currentSlide=t,this.announceSlideChange(t)}setTimeout(()=>{this.navigating=!1},150)}next(){const t=this.config.loop?(this.component.currentSlide+1)%this.totalSlides:Math.min(this.component.currentSlide+1,this.totalSlides-1);this.goTo(t)}prev(){const t=this.config.loop?(this.component.currentSlide-1+this.totalSlides)%this.totalSlides:Math.max(this.component.currentSlide-1,0);this.goTo(t)}updateCurrentSlide(){if(!this.container)return;const t=this.component.$el.querySelectorAll("[data-strata-slider-item]"),i=this.container.scrollLeft;let n=0,s=1/0;t.forEach((o,r)=>{const l=Math.abs(o.offsetLeft-i);l<s&&(s=l,n=r)}),this.component.currentSlide=n}announceSlideChange(t){const i=this.component.$el.querySelector("[data-strata-slider-live-region]");i&&(i.textContent=`Slide ${t+1} of ${this.totalSlides}`)}startAutoplay(){this.autoplayInterval||(this.isPlaying=!0,this.component&&(this.component.isPlaying=!0),this.autoplayInterval=setInterval(()=>{const t=this.config.loop?(this.component.currentSlide+1)%this.totalSlides:Math.min(this.component.currentSlide+1,this.totalSlides-1);this.goTo(t,{scrollToSlide:!1})},this.config.autoplayDelay))}stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)}pauseAutoplay(){this.stopAutoplay(),this.isPlaying=!1,this.component&&(this.component.isPlaying=!1)}resumeAutoplay(){this.config.autoplay&&!this.prefersReducedMotion()&&this.startAutoplay()}togglePlayPause(){this.isPlaying?this.pauseAutoplay():this.resumeAutoplay()}prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}setupTouchHandlers(){this.container&&(this.container.addEventListener("touchstart",t=>{this.touchStartX=t.changedTouches[0].screenX},{passive:!0}),this.container.addEventListener("touchend",t=>{this.touchEndX=t.changedTouches[0].screenX,this.handleSwipe()},{passive:!0}))}handleSwipe(){const t=this.container.clientWidth*.3,i=this.touchStartX-this.touchEndX;Math.abs(i)<t||(i>0?(this.pauseAutoplay(),this.next()):(this.pauseAutoplay(),this.prev()))}destroy(){this.stopAutoplay(),this.entangleable&&this.entangleable.destroy(),this.component=null,this.container=null}}window.StrataLightbox=function(){return{dialog:null,open:!1,currentIndex:0,currentGallery:null,galleries:{},items:[],isLoading:!1,isZoomed:!1,initialized:!1,init(){this.initialized||(this.initialized=!0,this.$nextTick(()=>{this.dialog=this.$el,this.discoverItems(),this.setupEventListeners()}))},discoverItems(){document.querySelectorAll("[data-lightbox]").forEach(t=>{const i=t.getAttribute("data-lightbox")||"default";this.galleries[i]||(this.galleries[i]=[]);const n=this.galleries[i].length,s=this.createItemFromElement(t,n,i);this.galleries[i].push(s),t.addEventListener("click",o=>{o.preventDefault(),this.openGallery(i,n)})})},createItemFromElement(e,t,i){const n=this.detectMediaType(e),s=this.getMediaUrl(e,n),o=this.getCaption(e);return{id:`lightbox-item-${i}-${t}-${Math.random().toString(36).substr(2,9)}`,type:n,url:s,caption:o,element:e,thumbnailUrl:this.getThumbnailUrl(e,n)}},detectMediaType(e){if(e.tagName==="IMG")return"image";if(e.tagName==="VIDEO")return"video";const i=(e.href||e.src||"").split(".").pop().split("?")[0].toLowerCase();return["jpg","jpeg","png","gif","webp","svg","avif"].includes(i)?"image":["mp4","webm","ogg","mov"].includes(i)?"video":["pdf"].includes(i)?"document":"image"},getMediaUrl(e,t){return t==="image"&&e.tagName==="IMG"?e.src:t==="video"&&e.tagName==="VIDEO"?e.src||e.querySelector("source")?.src||"":e.href||e.src||""},getThumbnailUrl(e,t){return t==="image"&&e.tagName==="IMG"?e.src:t==="video"&&e.poster||""},getCaption(e){if(e.dataset.lightboxCaption)return e.dataset.lightboxCaption;const t=e.closest("figure");if(t){const i=t.querySelector("figcaption");if(i)return i.textContent.trim()}return e.title||e.alt||""},setupEventListeners(){this.dialog.addEventListener("close",()=>{this.handleClose()}),this.dialog.addEventListener("click",e=>{e.target===this.dialog&&this.close()})},openGallery(e,t=0){this.currentGallery=e,this.items=this.galleries[e]||[],this.currentIndex=Math.max(0,Math.min(t,this.items.length-1)),this.isZoomed=!1,this.open=!0,this.dialog&&!this.dialog.open&&(this.dialog.showModal(),this.preloadAdjacentImages())},close(){this.cleanupMedia(),this.open=!1,this.isZoomed=!1,this.dialog&&this.dialog.open&&this.dialog.close()},handleClose(){this.cleanupMedia(),this.open=!1,this.isZoomed=!1,this.currentGallery=null},cleanupMedia(){const e=this.$el.querySelector("[data-strata-lightbox-video]");e&&(e.pause(),e.currentTime=0)},next(){this.currentIndex<this.items.length-1&&(this.currentIndex++,this.isZoomed=!1,this.preloadAdjacentImages())},prev(){this.currentIndex>0&&(this.currentIndex--,this.isZoomed=!1,this.preloadAdjacentImages())},goTo(e){e>=0&&e<this.items.length&&(this.currentIndex=e,this.isZoomed=!1,this.preloadAdjacentImages())},toggleZoom(){this.currentItem?.type==="image"&&(this.isZoomed=!this.isZoomed)},handleKeydown(e){if(this.open)switch(e.key){case"ArrowRight":e.preventDefault(),this.next();break;case"ArrowLeft":e.preventDefault(),this.prev();break;case"Home":e.preventDefault(),this.goTo(0);break;case"End":e.preventDefault(),this.goTo(this.items.length-1);break;case" ":case"Enter":(e.target===this.$refs.mediaContainer||e.target.closest("[data-strata-lightbox-image]"))&&(e.preventDefault(),this.toggleZoom());break}},preloadAdjacentImages(){const e=this.currentItem;!e||e.type!=="image"||[this.currentIndex-1,this.currentIndex+1].forEach(t=>{if(t>=0&&t<this.items.length){const i=this.items[t];if(i.type==="image"){const n=new Image;n.src=i.url}}})},handleImageLoad(){this.isLoading=!1},handleImageError(){this.isLoading=!1},get currentItem(){return this.items[this.currentIndex]||null},get hasMultipleItems(){return this.items.length>1},get hasPrev(){return this.currentIndex>0},get hasNext(){return this.currentIndex<this.items.length-1},get counter(){return this.hasMultipleItems?`${this.currentIndex+1} / ${this.items.length}`:""}}};typeof window<"u"&&(window.StrataEntangleable=Yt,window.StrataPositionable=et,window.StrataImage=Je,window.StrataSlider=Ke,window.toast=function(e){typeof e=="string"&&(e={description:e}),window.dispatchEvent(new CustomEvent("strata:toast",{detail:e}))},window.toast.success=function(e,t=null){window.toast({variant:"success",title:e,description:t})},window.toast.error=function(e,t=null){window.toast({variant:"error",title:e,description:t})},window.toast.warning=function(e,t=null){window.toast({variant:"warning",title:e,description:t})},window.toast.info=function(e,t=null){window.toast({variant:"info",title:e,description:t})});
