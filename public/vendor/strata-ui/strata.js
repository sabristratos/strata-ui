class $t{constructor(e=null){this.value=e,this.watchers=[],this.component=null,this.wireModelProperty=null,this.alpineModelProperty=null}watch(e){return this.watchers.push(e),this}set(e){const n=this.value;this.value=e,JSON.stringify(n)!==JSON.stringify(e)&&(this.notifyWatchers(e,n),this.syncToLivewire())}get(){return this.value}notifyWatchers(e,n){this.watchers.forEach(i=>i(e,n))}syncToLivewire(){this.component?.$wire&&this.wireModelProperty&&this.component.$wire.set(this.wireModelProperty,this.value)}syncFromLivewire(){if(this.component?.$wire&&this.wireModelProperty){const e=this.component.$wire.get(this.wireModelProperty);e!==void 0&&(this.value=e,this.notifyWatchers(this.value,null))}}setupLivewire(e,n){if(!n)return;const i=Array.from(n.getAttributeNames()).find(o=>o.startsWith("wire:model"));i&&(this.component=e,e.$wire&&(this.wireModelProperty=n.getAttribute(i),this.syncFromLivewire(),e.$wire.$watch(this.wireModelProperty,o=>{if(JSON.stringify(this.value)!==JSON.stringify(o)){const s=this.value;this.value=o,this.notifyWatchers(o,s)}})))}setupAlpine(e,n){this.component=e,this.alpineModelProperty=n,n&&e[n]!==void 0&&(this.value=e[n]),this.watch(i=>{n&&e[n]!==i&&(e[n]=i)})}destroy(){this.watchers=[],this.component=null,this.wireModelProperty=null,this.alpineModelProperty=null,this.value=null}}const U=Math.min,k=Math.max,K=Math.round,Y=Math.floor,O=t=>({x:t,y:t}),Vt={left:"right",right:"left",bottom:"top",top:"bottom"},Bt={start:"end",end:"start"};function gt(t,e,n){return k(t,U(e,n))}function Z(t,e){return typeof t=="function"?t(e):t}function W(t){return t.split("-")[0]}function tt(t){return t.split("-")[1]}function St(t){return t==="x"?"y":"x"}function Ct(t){return t==="y"?"height":"width"}const Ht=new Set(["top","bottom"]);function M(t){return Ht.has(W(t))?"y":"x"}function Ot(t){return St(M(t))}function It(t,e,n){n===void 0&&(n=!1);const i=tt(t),o=Ot(t),s=Ct(o);let r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=G(r)),[r,G(r)]}function _t(t){const e=G(t);return[lt(t),e,lt(e)]}function lt(t){return t.replace(/start|end/g,e=>Bt[e])}const wt=["left","right"],yt=["right","left"],zt=["top","bottom"],Xt=["bottom","top"];function jt(t,e,n){switch(t){case"top":case"bottom":return n?e?yt:wt:e?wt:yt;case"left":case"right":return e?zt:Xt;default:return[]}}function qt(t,e,n,i){const o=tt(t);let s=jt(W(t),n==="start",i);return o&&(s=s.map(r=>r+"-"+o),e&&(s=s.concat(s.map(lt)))),s}function G(t){return t.replace(/left|right|bottom|top/g,e=>Vt[e])}function Jt(t){return{top:0,right:0,bottom:0,left:0,...t}}function Yt(t){return typeof t!="number"?Jt(t):{top:t,right:t,bottom:t,left:t}}function Q(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function xt(t,e,n){let{reference:i,floating:o}=t;const s=M(e),r=Ot(e),c=Ct(r),l=W(e),a=s==="y",h=i.x+i.width/2-o.width/2,f=i.y+i.height/2-o.height/2,d=i[c]/2-o[c]/2;let u;switch(l){case"top":u={x:h,y:i.y-o.height};break;case"bottom":u={x:h,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:f};break;case"left":u={x:i.x-o.width,y:f};break;default:u={x:i.x,y:i.y}}switch(tt(e)){case"start":u[r]-=d*(n&&a?-1:1);break;case"end":u[r]+=d*(n&&a?-1:1);break}return u}const Ut=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,c=s.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(e));let a=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:h,y:f}=xt(a,i,l),d=i,u={},p=0;for(let g=0;g<c.length;g++){const{name:w,fn:m}=c[g],{x:y,y:x,data:b,reset:v}=await m({x:h,y:f,initialPlacement:i,placement:d,strategy:o,middlewareData:u,rects:a,platform:r,elements:{reference:t,floating:e}});h=y??h,f=x??f,u={...u,[w]:{...u[w],...b}},v&&p<=50&&(p++,typeof v=="object"&&(v.placement&&(d=v.placement),v.rects&&(a=v.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):v.rects),{x:h,y:f}=xt(a,d,l)),g=-1)}return{x:h,y:f,placement:d,strategy:o,middlewareData:u}};async function Et(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:s,rects:r,elements:c,strategy:l}=t,{boundary:a="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:d=!1,padding:u=0}=Z(e,t),p=Yt(u),w=c[d?f==="floating"?"reference":"floating":f],m=Q(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:a,rootBoundary:h,strategy:l})),y=f==="floating"?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),b=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},v=Q(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:x,strategy:l}):y);return{top:(m.top-v.top+p.top)/b.y,bottom:(v.bottom-m.bottom+p.bottom)/b.y,left:(m.left-v.left+p.left)/b.x,right:(v.right-m.right+p.right)/b.x}}const Kt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:s,rects:r,initialPlacement:c,platform:l,elements:a}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...w}=Z(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=W(o),y=M(c),x=W(c)===c,b=await(l.isRTL==null?void 0:l.isRTL(a.floating)),v=d||(x||!g?[G(c)]:_t(c)),_=p!=="none";!d&&_&&v.push(...qt(c,g,p,b));const $=[c,...v],st=await Et(e,w),J=[];let V=((i=s.flip)==null?void 0:i.overflows)||[];if(h&&J.push(st[m]),f){const D=It(o,r,b);J.push(st[D[0]],st[D[1]])}if(V=[...V,{placement:o,overflows:J}],!J.every(D=>D<=0)){var dt,pt;const D=(((dt=s.flip)==null?void 0:dt.index)||0)+1,rt=$[D];if(rt&&(!(f==="alignment"?y!==M(rt):!1)||V.every(R=>M(R.placement)===y?R.overflows[0]>0:!0)))return{data:{index:D,overflows:V},reset:{placement:rt}};let z=(pt=V.filter(F=>F.overflows[0]<=0).sort((F,R)=>F.overflows[1]-R.overflows[1])[0])==null?void 0:pt.placement;if(!z)switch(u){case"bestFit":{var mt;const F=(mt=V.filter(R=>{if(_){const T=M(R.placement);return T===y||T==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(T=>T>0).reduce((T,Nt)=>T+Nt,0)]).sort((R,T)=>R[1]-T[1])[0])==null?void 0:mt[0];F&&(z=F);break}case"initialPlacement":z=c;break}if(o!==z)return{reset:{placement:z}}}return{}}}},Gt=new Set(["left","top"]);async function Qt(t,e){const{placement:n,platform:i,elements:o}=t,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=W(n),c=tt(n),l=M(n)==="y",a=Gt.has(r)?-1:1,h=s&&l?-1:1,f=Z(e,t);let{mainAxis:d,crossAxis:u,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof p=="number"&&(u=c==="end"?p*-1:p),l?{x:u*h,y:d*a}:{x:d*a,y:u*h}}const Zt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:s,placement:r,middlewareData:c}=e,l=await Qt(e,t);return r===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:r}}}}},te=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:c={fn:w=>{let{x:m,y}=w;return{x:m,y}}},...l}=Z(t,e),a={x:n,y:i},h=await Et(e,l),f=M(W(o)),d=St(f);let u=a[d],p=a[f];if(s){const w=d==="y"?"top":"left",m=d==="y"?"bottom":"right",y=u+h[w],x=u-h[m];u=gt(y,u,x)}if(r){const w=f==="y"?"top":"left",m=f==="y"?"bottom":"right",y=p+h[w],x=p-h[m];p=gt(y,p,x)}const g=c.fn({...e,[d]:u,[f]:p});return{...g,data:{x:g.x-n,y:g.y-i,enabled:{[d]:s,[f]:r}}}}}};function et(){return typeof window<"u"}function I(t){return Lt(t)?(t.nodeName||"").toLowerCase():"#document"}function A(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function L(t){var e;return(e=(Lt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Lt(t){return et()?t instanceof Node||t instanceof A(t).Node:!1}function S(t){return et()?t instanceof Element||t instanceof A(t).Element:!1}function E(t){return et()?t instanceof HTMLElement||t instanceof A(t).HTMLElement:!1}function vt(t){return!et()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof A(t).ShadowRoot}const ee=new Set(["inline","contents"]);function q(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=C(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!ee.has(o)}const ne=new Set(["table","td","th"]);function ie(t){return ne.has(I(t))}const oe=[":popover-open",":modal"];function nt(t){return oe.some(e=>{try{return t.matches(e)}catch{return!1}})}const se=["transform","translate","scale","rotate","perspective"],re=["transform","translate","scale","rotate","perspective","filter"],ce=["paint","layout","strict","content"];function ft(t){const e=ut(),n=S(t)?C(t):t;return se.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||re.some(i=>(n.willChange||"").includes(i))||ce.some(i=>(n.contain||"").includes(i))}function le(t){let e=P(t);for(;E(e)&&!H(e);){if(ft(e))return e;if(nt(e))return null;e=P(e)}return null}function ut(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ae=new Set(["html","body","#document"]);function H(t){return ae.has(I(t))}function C(t){return A(t).getComputedStyle(t)}function it(t){return S(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function P(t){if(I(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vt(t)&&t.host||L(t);return vt(e)?e.host:e}function Tt(t){const e=P(t);return H(e)?t.ownerDocument?t.ownerDocument.body:t.body:E(e)&&q(e)?e:Tt(e)}function j(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=Tt(t),s=o===((i=t.ownerDocument)==null?void 0:i.body),r=A(o);if(s){const c=at(r);return e.concat(r,r.visualViewport||[],q(o)?o:[],c&&n?j(c):[])}return e.concat(o,j(o,[],n))}function at(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Mt(t){const e=C(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=E(t),s=o?t.offsetWidth:n,r=o?t.offsetHeight:i,c=K(n)!==s||K(i)!==r;return c&&(n=s,i=r),{width:n,height:i,$:c}}function ht(t){return S(t)?t:t.contextElement}function B(t){const e=ht(t);if(!E(e))return O(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:s}=Mt(e);let r=(s?K(n.width):n.width)/i,c=(s?K(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!c||!Number.isFinite(c))&&(c=1),{x:r,y:c}}const fe=O(0);function Pt(t){const e=A(t);return!ut()||!e.visualViewport?fe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ue(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==A(t)?!1:e}function N(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=ht(t);let r=O(1);e&&(i?S(i)&&(r=B(i)):r=B(t));const c=ue(s,n,i)?Pt(s):O(0);let l=(o.left+c.x)/r.x,a=(o.top+c.y)/r.y,h=o.width/r.x,f=o.height/r.y;if(s){const d=A(s),u=i&&S(i)?A(i):i;let p=d,g=at(p);for(;g&&i&&u!==p;){const w=B(g),m=g.getBoundingClientRect(),y=C(g),x=m.left+(g.clientLeft+parseFloat(y.paddingLeft))*w.x,b=m.top+(g.clientTop+parseFloat(y.paddingTop))*w.y;l*=w.x,a*=w.y,h*=w.x,f*=w.y,l+=x,a+=b,p=A(g),g=at(p)}}return Q({width:h,height:f,x:l,y:a})}function ot(t,e){const n=it(t).scrollLeft;return e?e.left+n:N(L(t)).left+n}function Dt(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-ot(t,n),o=n.top+e.scrollTop;return{x:i,y:o}}function he(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t;const s=o==="fixed",r=L(i),c=e?nt(e.floating):!1;if(i===r||c&&s)return n;let l={scrollLeft:0,scrollTop:0},a=O(1);const h=O(0),f=E(i);if((f||!f&&!s)&&((I(i)!=="body"||q(r))&&(l=it(i)),E(i))){const u=N(i);a=B(i),h.x=u.x+i.clientLeft,h.y=u.y+i.clientTop}const d=r&&!f&&!s?Dt(r,l):O(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-l.scrollLeft*a.x+h.x+d.x,y:n.y*a.y-l.scrollTop*a.y+h.y+d.y}}function de(t){return Array.from(t.getClientRects())}function pe(t){const e=L(t),n=it(t),i=t.ownerDocument.body,o=k(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=k(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+ot(t);const c=-n.scrollTop;return C(i).direction==="rtl"&&(r+=k(e.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:c}}const bt=25;function me(t,e){const n=A(t),i=L(t),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,c=0,l=0;if(o){s=o.width,r=o.height;const h=ut();(!h||h&&e==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}const a=ot(i);if(a<=0){const h=i.ownerDocument,f=h.body,d=getComputedStyle(f),u=h.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(i.clientWidth-f.clientWidth-u);p<=bt&&(s-=p)}else a<=bt&&(s+=a);return{width:s,height:r,x:c,y:l}}const ge=new Set(["absolute","fixed"]);function we(t,e){const n=N(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,s=E(t)?B(t):O(1),r=t.clientWidth*s.x,c=t.clientHeight*s.y,l=o*s.x,a=i*s.y;return{width:r,height:c,x:l,y:a}}function At(t,e,n){let i;if(e==="viewport")i=me(t,n);else if(e==="document")i=pe(L(t));else if(S(e))i=we(e,n);else{const o=Pt(t);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Q(i)}function Ft(t,e){const n=P(t);return n===e||!S(n)||H(n)?!1:C(n).position==="fixed"||Ft(n,e)}function ye(t,e){const n=e.get(t);if(n)return n;let i=j(t,[],!1).filter(c=>S(c)&&I(c)!=="body"),o=null;const s=C(t).position==="fixed";let r=s?P(t):t;for(;S(r)&&!H(r);){const c=C(r),l=ft(r);!l&&c.position==="fixed"&&(o=null),(s?!l&&!o:!l&&c.position==="static"&&!!o&&ge.has(o.position)||q(r)&&!l&&Ft(t,r))?i=i.filter(h=>h!==r):o=c,r=P(r)}return e.set(t,i),i}function xe(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const r=[...n==="clippingAncestors"?nt(e)?[]:ye(e,this._c):[].concat(n),i],c=r[0],l=r.reduce((a,h)=>{const f=At(e,h,o);return a.top=k(f.top,a.top),a.right=U(f.right,a.right),a.bottom=U(f.bottom,a.bottom),a.left=k(f.left,a.left),a},At(e,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ve(t){const{width:e,height:n}=Mt(t);return{width:e,height:n}}function be(t,e,n){const i=E(e),o=L(e),s=n==="fixed",r=N(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const l=O(0);function a(){l.x=ot(o)}if(i||!i&&!s)if((I(e)!=="body"||q(o))&&(c=it(e)),i){const u=N(e,!0,s,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else o&&a();s&&!i&&o&&a();const h=o&&!i&&!s?Dt(o,c):O(0),f=r.left+c.scrollLeft-l.x-h.x,d=r.top+c.scrollTop-l.y-h.y;return{x:f,y:d,width:r.width,height:r.height}}function ct(t){return C(t).position==="static"}function Rt(t,e){if(!E(t)||C(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return L(t)===n&&(n=n.ownerDocument.body),n}function kt(t,e){const n=A(t);if(nt(t))return n;if(!E(t)){let o=P(t);for(;o&&!H(o);){if(S(o)&&!ct(o))return o;o=P(o)}return n}let i=Rt(t,e);for(;i&&ie(i)&&ct(i);)i=Rt(i,e);return i&&H(i)&&ct(i)&&!ft(i)?n:i||le(t)||n}const Ae=async function(t){const e=this.getOffsetParent||kt,n=this.getDimensions,i=await n(t.floating);return{reference:be(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Re(t){return C(t).direction==="rtl"}const Se={convertOffsetParentRelativeRectToViewportRelativeRect:he,getDocumentElement:L,getClippingRect:xe,getOffsetParent:kt,getElementRects:Ae,getClientRects:de,getDimensions:ve,getScale:B,isElement:S,isRTL:Re};function Wt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ce(t,e){let n=null,i;const o=L(t);function s(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function r(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),s();const a=t.getBoundingClientRect(),{left:h,top:f,width:d,height:u}=a;if(c||e(),!d||!u)return;const p=Y(f),g=Y(o.clientWidth-(h+d)),w=Y(o.clientHeight-(f+u)),m=Y(h),x={rootMargin:-p+"px "+-g+"px "+-w+"px "+-m+"px",threshold:k(0,U(1,l))||1};let b=!0;function v(_){const $=_[0].intersectionRatio;if($!==l){if(!b)return r();$?r(!1,$):i=setTimeout(()=>{r(!1,1e-7)},1e3)}$===1&&!Wt(a,t.getBoundingClientRect())&&r(),b=!1}try{n=new IntersectionObserver(v,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(v,x)}n.observe(t)}return r(!0),s}function Oe(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,a=ht(t),h=o||s?[...a?j(a):[],...j(e)]:[];h.forEach(m=>{o&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const f=a&&c?Ce(a,n):null;let d=-1,u=null;r&&(u=new ResizeObserver(m=>{let[y]=m;y&&y.target===a&&u&&(u.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=u)==null||x.observe(e)})),n()}),a&&!l&&u.observe(a),u.observe(e));let p,g=l?N(t):null;l&&w();function w(){const m=N(t);g&&!Wt(g,m)&&n(),g=m,p=requestAnimationFrame(w)}return n(),()=>{var m;h.forEach(y=>{o&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f?.(),(m=u)==null||m.disconnect(),u=null,l&&cancelAnimationFrame(p)}}const Ee=Zt,Le=te,Te=Kt,Me=(t,e,n)=>{const i=new Map,o={platform:Se,...n},s={...o.platform,_c:i};return Ut(t,e,{...o,platform:s})};class X{static instances=new Set;constructor(e={}){this.config={placement:e.placement||"bottom-start",offset:e.offset||8,strategy:e.strategy||"absolute",...e},this.cleanup=null,this.reference=null,this.floating=null,this.component=null,this.state=!1,this.styles={},this.wrapperElement=null}start(e,n,i){return this.component=e,this.reference=n,this.floating=i,this.wrapperElement=e.$el,X.instances.add(this),this.compute(),this.watch(o=>{o&&window.innerWidth>=640&&!this.cleanup&&this.component.$nextTick(()=>this.syncPosition()),!o&&this.cleanup&&(this.cleanup(),this.cleanup=null)}),this}watch(e){return queueMicrotask(()=>{this.component.$watch(()=>this.state,n=>e(n))}),this}syncPosition(){window.innerWidth<640||(this.cleanup=Oe(this.reference,this.floating,()=>this.compute()))}compute(){!this.reference||!this.floating||Me(this.reference,this.floating,{placement:this.config.placement,strategy:this.config.strategy,middleware:[Ee(this.config.offset),Te({padding:5}),Le({padding:5})]}).then(({x:e,y:n})=>{this.styles={position:this.config.strategy,left:`${e}px`,top:`${n}px`}})}open(){this.closeConflictingInstances(),this.compute(),this.component.$nextTick(()=>{this.state=!0})}openIfClosed(){this.state||this.open()}close(){this.state=!1}toggle(){this.state?this.close():this.open()}closeConflictingInstances(){X.instances.forEach(e=>{if(e===this||!e.state)return;const n=e.wrapperElement?.contains(this.wrapperElement),i=this.wrapperElement?.contains(e.wrapperElement);!n&&!i&&e.close()})}destroy(){this.cleanup&&(this.cleanup(),this.cleanup=null),X.instances.delete(this)}}typeof window<"u"&&(window.StrataEntangleable=$t,window.StrataPositionable=X,window.toast=function(t){typeof t=="string"&&(t={description:t}),window.dispatchEvent(new CustomEvent("strata:toast",{detail:t}))},window.toast.success=function(t,e=null){window.toast({variant:"success",title:t,description:e})},window.toast.error=function(t,e=null){window.toast({variant:"error",title:t,description:e})},window.toast.warning=function(t,e=null){window.toast({variant:"warning",title:t,description:e})},window.toast.info=function(t,e=null){window.toast({variant:"info",title:t,description:e})});
